---
/**
 * Homepage - Arron Bennett Building Contractors
 * Exact replication of original homepage structure
 */

import BaseLayout from '../layouts/BaseLayout.astro';
import { testimonials as testimonialsData } from '../data/testimonials';
import { Image } from 'astro:assets';
import { getProjectImage, getGalleryImage } from '../data/imageRegistry';
import LocalBusinessWithReviews from '../components/schema/LocalBusinessWithReviews.astro';
import BreadcrumbSchema from '../components/schema/BreadcrumbSchema.astro';
import { generateWebPageSchema, createSchemaGraph } from '../utils/schema-helpers';

// SEO metadata matching original
const pageTitle = 'Arron Bennett â€“ Traditional Builder in Cornwall';
const pageDescription = 'Traditional builder on the Roseland Peninsula specialising in stone masonry & project management. Arron Bennett delivers expert craftsmanship on the Roseland Peninsula, Cornwall.';
const canonicalURL = 'https://www.arronbennettbuilding.co.uk/';

// Import testimonials from the shared data file to ensure accuracy
// This ensures all ratings and content match the source of truth
const testimonials = testimonialsData.map(t => ({
  id: t.id,
  name: t.name,
  location: t.location,
  project: t.project,
  rating: t.rating,
  content: t.content
}));
---

<BaseLayout
  title={pageTitle}
  description={pageDescription}
  canonical={canonicalURL}
>
  <main>
    <!-- Hero Section -->
    <section
      class="hero-section relative overflow-hidden bg-navy-900 text-white py-20 md:py-28 lg:py-36 flex items-center min-h-[60vh] lg:min-h-[70vh]"
      aria-label="Hero banner - Cornwall building and stone masonry services"
    >
      <!-- Background Image with Gradient Overlay -->
      <div class="absolute inset-0 z-0">
        <Image
          src={getProjectImage('new-house-landscaping-feock/A-Bennett-104.jpg')}
          alt="Modern Cornwall building on the Roseland Peninsula featuring traditional stone masonry and contemporary architectural design by Arron Bennett Building"
          class="w-full h-full object-cover"
          widths={[640, 768, 1024, 1280, 1536, 1920]}
          sizes="100vw"
          loading="eager"
          fetchpriority="high"
          format="avif"
        />
        <div class="absolute inset-0 bg-gradient-to-b from-navy-900/70 via-navy-900/50 to-navy-900/80"></div>
      </div>

      <div class="container mx-auto px-4 relative z-10">
        <div class="max-w-4xl mx-auto text-center">
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight">
            <span class="block">Cornwall Builders</span>
            <span class="block">Stone Masonry & Renovations</span>
          </h1>
          <p
            class="text-xl md:text-2xl mb-8 text-white opacity-95"
            style="text-shadow: 0 2px 4px rgba(0,0,0,0.3);"
          >
            Traditional craftsmanship with modern building methods
          </p>
          <a
            href="/contact-us"
            class="inline-block px-8 py-4 rounded-full text-white font-semibold text-lg hover:scale-105 hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-coral-300 transition-all duration-200"
            style="background-color: #a83820; color: white;"
            onmouseover="this.style.backgroundColor='#8b2e19'; this.style.color='white';"
            onmouseout="this.style.backgroundColor='#a83820'; this.style.color='white';"
            aria-label="Contact us to discuss your building project"
          >
            GET IN TOUCH
          </a>
        </div>
      </div>
    </section>

    <!-- Services Section -->
    <section class="py-12 lg:py-16 bg-white" aria-label="We can help you on a wide range of projects">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-5xl mx-auto">
          <!-- Section Header -->
          <div class="mb-8">
            <h2 class="text-3xl sm:text-4xl font-bold text-navy-900 mb-4 border-b-4 border-coral-500 inline-block pb-2">
              We can help you on a wide range of projects
            </h2>
            <p class="text-base text-gray-700 leading-normal mt-5 max-w-4xl">
              Whether your vision is traditional or contemporary, a new build or property renovation, you can rely on us to bring your designs to life. We are specialists in delivering unique, exceptional properties combining traditional stone masonry with modern building methods.
            </p>
          </div>

          <!-- Services List - Two Columns on Desktop, Single on Mobile -->
          <ul class="grid grid-cols-1 md:grid-cols-2 gap-x-16 gap-y-3 list-none mt-6">
            <li class="flex items-start gap-4 text-gray-800 group">
              <svg class="w-2 h-2 mt-2 flex-shrink-0 text-coral-500" viewBox="0 0 8 8" fill="currentColor" aria-hidden="true">
                <circle cx="4" cy="4" r="4" />
              </svg>
              <span class="text-base leading-normal">Full Builds</span>
            </li>
            <li class="flex items-start gap-4 text-gray-800 group">
              <svg class="w-2 h-2 mt-2 flex-shrink-0 text-coral-500" viewBox="0 0 8 8" fill="currentColor" aria-hidden="true">
                <circle cx="4" cy="4" r="4" />
              </svg>
              <span class="text-base leading-normal">Home Renovations</span>
            </li>
            <li class="flex items-start gap-4 text-gray-800 group">
              <svg class="w-2 h-2 mt-2 flex-shrink-0 text-coral-500" viewBox="0 0 8 8" fill="currentColor" aria-hidden="true">
                <circle cx="4" cy="4" r="4" />
              </svg>
              <span class="text-base leading-normal">Bathroom and Kitchen Renovations</span>
            </li>
            <li class="flex items-start gap-4 text-gray-800 group">
              <svg class="w-2 h-2 mt-2 flex-shrink-0 text-coral-500" viewBox="0 0 8 8" fill="currentColor" aria-hidden="true">
                <circle cx="4" cy="4" r="4" />
              </svg>
              <span class="text-base leading-normal">Hard Landscaping</span>
            </li>
            <li class="flex items-start gap-4 text-gray-800 group">
              <svg class="w-2 h-2 mt-2 flex-shrink-0 text-coral-500" viewBox="0 0 8 8" fill="currentColor" aria-hidden="true">
                <circle cx="4" cy="4" r="4" />
              </svg>
              <span class="text-base leading-normal">Mini Excavator and Waste Away Services</span>
            </li>
            <li class="flex items-start gap-4 text-gray-800 group">
              <svg class="w-2 h-2 mt-2 flex-shrink-0 text-coral-500" viewBox="0 0 8 8" fill="currentColor" aria-hidden="true">
                <circle cx="4" cy="4" r="4" />
              </svg>
              <span class="text-base leading-normal">Stone and Block Masonry</span>
            </li>
            <li class="flex items-start gap-4 text-gray-800 group">
              <svg class="w-2 h-2 mt-2 flex-shrink-0 text-coral-500" viewBox="0 0 8 8" fill="currentColor" aria-hidden="true">
                <circle cx="4" cy="4" r="4" />
              </svg>
              <span class="text-base leading-normal">Project Management</span>
            </li>
            <li class="flex items-start gap-4 text-gray-800 group">
              <svg class="w-2 h-2 mt-2 flex-shrink-0 text-coral-500" viewBox="0 0 8 8" fill="currentColor" aria-hidden="true">
                <circle cx="4" cy="4" r="4" />
              </svg>
              <span class="text-base leading-normal">Ground Source and Air Source Installations</span>
            </li>
            <li class="flex items-start gap-4 text-gray-800 group">
              <svg class="w-2 h-2 mt-2 flex-shrink-0 text-coral-500" viewBox="0 0 8 8" fill="currentColor" aria-hidden="true">
                <circle cx="4" cy="4" r="4" />
              </svg>
              <span class="text-base leading-normal">Traditional Lime Mortars</span>
            </li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Working Together Section -->
    <section class="py-12 lg:py-16 bg-eggshell" aria-labelledby="working-together-heading">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 lg:gap-16 items-center">
          <!-- Content -->
          <div>
            <h2 id="working-together-heading" class="text-3xl sm:text-4xl font-bold text-navy-900 mb-4 border-b-4 border-coral-500 inline-block pb-2">
              Working together to deliver quality results
            </h2>
            <div class="space-y-4 text-gray-700 text-base leading-normal">
              <p>
                We collaborate with a network of contractors and specialists in their field, and liaise closely with architects and structural engineers, to deliver our client's architectural vision to the highest possible standards.
              </p>
              <p>
                We can oversee all aspects of your building project, from ordering construction materials through to completing the finishing touches, and pride ourselves on our outstanding reputation.
              </p>
            </div>

            <!-- CTA -->
            <div class="mt-6">
              <a
                href="/contact-us"
                class="inline-block text-white px-8 py-4 rounded-full font-semibold text-lg focus:outline-none focus:ring-4 focus:ring-coral-300 focus:ring-offset-2 transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105"
                style="background-color: #a83820; color: white; text-shadow: 0 1px 2px rgba(0,0,0,0.1);"
                onmouseover="this.style.backgroundColor='#8b2e19'; this.style.color='white';"
                onmouseout="this.style.backgroundColor='#a83820'; this.style.color='white';"
                aria-label="Find out more about our services and contact us"
              >
                Find out more
              </a>
            </div>
          </div>

          <!-- Service Cards Carousel -->
          <div class="relative">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
              <!-- Card 1: Discuss Your Project -->
              <div class="bg-white rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 p-2 border border-gray-100">
                <a
                  href="/contact-us"
                  class="relative group overflow-hidden rounded-lg transition-transform hover:scale-105 focus:ring-4 focus:ring-coral-500 w-full text-left cursor-pointer block"
                  aria-label="Discuss your project - Contact us"
                >
                  <div class="aspect-square bg-gradient-to-br from-navy-800 to-navy-900">
                    <Image
                      src={getProjectImage('timber-frame-house-tregony/Bennett1.jpg')}
                      alt="Modern Roseland Peninsula property in Tregony, Cornwall showcasing traditional stone masonry and contemporary building techniques by Arron Bennett Building"
                      class="w-full h-full object-cover opacity-60"
                      widths={[400, 600, 800]}
                      sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 400px"
                      loading="lazy"
                      format="avif"
                    />
                  </div>
                  <div class="absolute inset-0 flex flex-col items-center justify-center p-6 bg-navy-900/90">
                    <div class="w-16 h-16 mb-4 text-white" aria-hidden="true">
                      <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-full h-full">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z" />
                      </svg>
                    </div>
                    <h3 class="text-xl font-bold text-white text-center">
                      Discuss your Project
                    </h3>
                  </div>
                </a>
              </div>

              <!-- Card 2: Our Client Feedback -->
              <div class="bg-white rounded-xl shadow-xl hover:shadow-2xl transition-all duration-300 p-2 border border-gray-100">
                <button
                id="feedback-toggle"
                type="button"
                class="relative group overflow-hidden rounded-lg transition-transform hover:scale-105 focus:ring-4 focus:ring-coral-500 w-full text-left cursor-pointer block"
                aria-expanded="false"
                aria-controls="testimonials-section"
                aria-label="Toggle client feedback testimonials"
              >
                <div class="aspect-square bg-gradient-to-br from-navy-800 to-navy-900">
                  <Image
                    src={getGalleryImage('masonry-015.jpg')}
                    alt="Traditional stone masonry work by Arron Bennett Building - expert craftsmanship in Cornwall"
                    class="w-full h-full object-cover opacity-60"
                    widths={[400, 600, 800]}
                    sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 400px"
                    loading="lazy"
                    format="avif"
                  />
                </div>
                <div class="absolute inset-0 flex flex-col items-center justify-center p-6 bg-navy-900/90">
                  <div class="w-16 h-16 mb-4 text-white" aria-hidden="true">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-full h-full">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
                    </svg>
                  </div>
                  <h3 class="text-xl font-bold text-white text-center">
                    Our Client Feedback
                  </h3>
                  <!-- Chevron indicator -->
                  <svg
                    id="chevron-icon"
                    class="w-6 h-6 text-white mt-3 transition-transform duration-300"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                    aria-hidden="true"
                  >
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                  </svg>
                </div>
              </button>
            </div>
          </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials-section" class="py-12 lg:py-16 relative overflow-hidden testimonials-hidden" style="background-color: #1a2d4d;" aria-label="Client testimonials" aria-hidden="true">
      <!-- Background Pattern -->
      <div class="absolute inset-0 opacity-5" aria-hidden="true">
        <svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <pattern id="testimonial-grid" width="32" height="32" patternUnits="userSpaceOnUse">
              <circle cx="16" cy="16" r="1" fill="white" />
            </pattern>
          </defs>
          <rect width="100%" height="100%" fill="url(#testimonial-grid)" />
        </svg>
      </div>

      <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Section Header -->
        <div class="text-center max-w-3xl mx-auto mb-10">
          <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4">
            What Our Clients Say
          </h2>
          <p class="text-base sm:text-lg text-gray-100 leading-normal">
            Don't just take our word for it - hear from our satisfied clients on the Roseland Peninsula
          </p>
        </div>

        <!-- Testimonials Grid - Showing all 5 testimonials -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
          {testimonials.map((testimonial) => (
            <article class="bg-white rounded-lg shadow-lg p-8 flex flex-col h-full" aria-labelledby={`testimonial-${testimonial.name.toLowerCase().replace(/\s+/g, '-')}`}>
              <!-- Star Rating -->
              <div class="flex gap-1 mb-4" role="img" aria-label={`${testimonial.rating} out of 5 stars`}>
                {[...Array(testimonial.rating)].map((_, index) => (
                  <svg class="w-5 h-5 text-coral fill-current" viewBox="0 0 20 20" aria-hidden="true" key={index}>
                    <path d="M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z" />
                  </svg>
                ))}
              </div>

              <!-- Testimonial Content -->
              <blockquote class="testimonial-quote text-gray-700 leading-relaxed mb-6 flex-grow">
                {testimonial.content}
              </blockquote>

              <!-- Author Info -->
              <div class="border-t border-gray-200 pt-6">
                <div class="font-bold text-navy-900 text-lg" id={`testimonial-${testimonial.name.toLowerCase().replace(/\s+/g, '-')}`}>{testimonial.name}</div>
                <div class="text-gray-600 text-sm mt-1">{testimonial.location}</div>
                <div class="text-coral text-sm font-medium mt-2">{testimonial.project}</div>
              </div>
            </article>
          ))}
        </div>
      </div>
    </section>

    <!-- Accreditations Section -->
    <section class="py-16 bg-white border-t border-gray-200" aria-label="Trust indicators and accreditations">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6 max-w-6xl mx-auto text-center">
          <!-- Badge 1 -->
          <article class="flex flex-col items-center bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100">
            <div class="w-16 h-16 mb-4 text-navy-900" aria-hidden="true">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-full h-full">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
              </svg>
            </div>
            <h3 class="font-bold text-navy-900 mb-2">Fully Insured</h3>
            <p class="text-sm text-gray-600">Comprehensive cover</p>
          </article>

          <!-- Badge 2 -->
          <article class="flex flex-col items-center bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100">
            <div class="w-16 h-16 mb-4 text-navy-900" aria-hidden="true">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-full h-full">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h3 class="font-bold text-navy-900 mb-2">20+ Years</h3>
            <p class="text-sm text-gray-600">Expert experience</p>
          </article>

          <!-- Badge 3 -->
          <article class="flex flex-col items-center bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100">
            <div class="w-16 h-16 mb-4 text-navy-900" aria-hidden="true">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-full h-full">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
              </svg>
            </div>
            <h3 class="font-bold text-navy-900 mb-2">Traditional</h3>
            <p class="text-sm text-gray-600">Craftsmanship</p>
          </article>

          <!-- Badge 4 -->
          <article class="flex flex-col items-center bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100">
            <div class="w-16 h-16 mb-4 text-navy-900" aria-hidden="true">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" class="w-full h-full">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
              </svg>
            </div>
            <h3 class="font-bold text-navy-900 mb-2">Quality</h3>
            <p class="text-sm text-gray-600">Guaranteed</p>
          </article>

          <!-- Badge 5: TrustMark Certified -->
          <article class="flex flex-col items-center justify-center bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 p-6 border border-gray-100">
            <a
              href="https://www.trustmark.org.uk/"
              target="_blank"
              rel="noopener noreferrer"
              class="flex items-center justify-center w-full h-full"
              aria-label="TrustMark Government Endorsed Standards - Opens in new window"
            >
              <img
                src="/images/trustmark-logo.png"
                alt="TrustMark Logo"
                class="w-full h-full object-contain"
                loading="lazy"
                width="144"
                height="144"
              />
            </a>
          </article>
        </div>
      </div>
    </section>

    <!-- Final CTA Section -->
    <section
      class="py-12 lg:py-16"
      style="background: linear-gradient(to bottom right, #a83820, #8b2e19);"
      aria-label="Contact call to action"
    >
      <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <div class="max-w-3xl mx-auto">
          <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4">
            Ready to start your project?
          </h2>
          <p class="text-base sm:text-lg text-white mb-6 leading-normal">
            Get in touch today to discuss your building requirements. We're here to help bring your vision to life with expert craftsmanship and professionalism.
          </p>

          <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
            <a
              href="/contact-us"
              class="inline-block min-w-[200px] px-8 py-4 rounded-lg font-semibold text-lg focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-offset-4 transition-all"
              style="background-color: #ffffff; color: #a83820;"
              onmouseover="this.style.backgroundColor='#f1f3f5'"
              onmouseout="this.style.backgroundColor='#ffffff'"
            >
              Get in Touch
            </a>

            <a
              href="tel:07773463383"
              class="inline-flex items-center gap-3 min-h-[44px] px-8 py-4 text-lg font-semibold rounded-lg focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-offset-4 transition-all"
              style="color: #ffffff; border: 2px solid #ffffff;"
              onmouseover="this.style.backgroundColor='#ffffff'; this.style.color='#a83820';"
              onmouseout="this.style.backgroundColor='transparent'; this.style.color='#ffffff';"
              aria-label="Call us on 07773 463383"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                />
              </svg>
              07773 463383
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Comprehensive Schema.org Structured Data -->
  <LocalBusinessWithReviews siteUrl={canonicalURL} />

  <!-- Breadcrumb Navigation -->
  <BreadcrumbSchema
    items={[
      { name: 'Home', url: '/' }
    ]}
    siteUrl={canonicalURL}
  />
</BaseLayout>

<style>
  /* Smooth scroll behavior */
  html {
    scroll-behavior: smooth;
  }

  /* Prose styling for content sections */
  .prose p {
    margin-bottom: 1rem;
  }

  /* Ensure consistent spacing */
  section + section {
    position: relative;
  }

  /* Decorative quote marks for testimonials */
  .testimonial-quote {
    position: relative;
    padding-left: 1.5rem;
  }

  .testimonial-quote::before {
    content: '\201C';
    position: absolute;
    left: -0.5rem;
    top: -0.5rem;
    font-size: 2.5rem;
    color: #F27A5E; /* coral color */
    line-height: 1;
  }

  /* Testimonials toggle styles */
  .testimonials-hidden {
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out, padding 0.5s ease-in-out;
    padding-top: 0;
    padding-bottom: 0;
  }

  .testimonials-visible {
    max-height: 5000px; /* Large enough to accommodate content */
    opacity: 1;
    transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out, padding 0.5s ease-in-out;
  }

  /* Chevron rotation */
  .chevron-rotate {
    transform: rotate(180deg);
  }

  /* Feedback toggle button hover effect */
  #feedback-toggle:hover {
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
  }

  /* Focus visible for accessibility */
  #feedback-toggle:focus-visible {
    outline: 3px solid #F27A5E;
    outline-offset: 2px;
  }
</style>

<script>
  // Testimonials toggle functionality
  document.addEventListener('DOMContentLoaded', () => {
    const toggleButton = document.getElementById('feedback-toggle');
    const testimonialsSection = document.getElementById('testimonials-section');
    const chevronIcon = document.getElementById('chevron-icon');

    if (!toggleButton || !testimonialsSection || !chevronIcon) {
      console.error('Toggle elements not found');
      return;
    }

    // Toggle function
    const toggleTestimonials = () => {
      const isExpanded = toggleButton.getAttribute('aria-expanded') === 'true';

      if (isExpanded) {
        // Hide testimonials
        testimonialsSection.classList.remove('testimonials-visible');
        testimonialsSection.classList.add('testimonials-hidden');
        testimonialsSection.setAttribute('aria-hidden', 'true');
        toggleButton.setAttribute('aria-expanded', 'false');
        chevronIcon.classList.remove('chevron-rotate');

        // Smooth scroll to the toggle button
        setTimeout(() => {
          toggleButton.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }, 100);
      } else {
        // Show testimonials
        testimonialsSection.classList.remove('testimonials-hidden');
        testimonialsSection.classList.add('testimonials-visible');
        testimonialsSection.setAttribute('aria-hidden', 'false');
        toggleButton.setAttribute('aria-expanded', 'true');
        chevronIcon.classList.add('chevron-rotate');

        // Smooth scroll to testimonials section
        setTimeout(() => {
          testimonialsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }, 100);
      }
    };

    // Click event
    toggleButton.addEventListener('click', toggleTestimonials);

    // Keyboard accessibility (Enter and Space)
    toggleButton.addEventListener('keydown', (event) => {
      if (event.key === 'Enter' || event.key === ' ') {
        event.preventDefault();
        toggleTestimonials();
      }
    });
  });
</script>
