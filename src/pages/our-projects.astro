---
/**
 * Our Projects Page - Arron Bennett Building Contractors
 * URL: /our-projects
 * Showcasing completed building projects on the Roseland Peninsula
 * 2-Tier Gallery: Cards link to detail pages with full photo galleries
 */

import BaseLayout from '../layouts/BaseLayout.astro';
import { projects } from '../data/projects';
import { Image } from 'astro:assets';
import { getProjectImage } from '../data/imageRegistry';
// import ProgressiveImage from '../components/ProgressiveImage.astro';

// SEO metadata
const pageTitle = 'Our Projects – Cornwall Building Portfolio | Arron Bennett Building - Cornwall';
const pageDescription = 'View our portfolio of completed building projects on the Roseland Peninsula including new builds, renovations, stone masonry, and hard landscaping work.';
---

<BaseLayout
  title={pageTitle}
  description={pageDescription}
>

    <!-- Hero Section -->
    <section
      class="relative h-[70vh] flex items-center justify-center overflow-hidden"
      aria-label="Our Projects hero banner"
    >
      <Image
        src={getProjectImage('timber-frame-house-tregony/A-Bennett-310.jpg')}
        alt="Showcase of completed building projects on the Roseland Peninsula by Arron Bennett Building"
        class="absolute inset-0 w-full h-full object-cover"
        widths={[640, 750, 828, 1080, 1200]}
        sizes="100vw"
        loading="eager"
        format="avif"
      />
      <div class="absolute inset-0" style="background-color: rgba(26, 45, 77, 0.75);"></div>
      <div class="relative z-10 container mx-auto px-4 text-center">
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6">
          Our Projects
        </h1>
        <p class="text-xl md:text-2xl text-white/90 max-w-3xl mx-auto">
          A showcase of our completed building work on the Roseland Peninsula
        </p>
      </div>
    </section>

    <!-- Introduction -->
    <section class="intro-section">
      <div class="container">
        <div class="intro-content">
          <h2>Quality Craftsmanship, Proven Results</h2>
          <p>
            From traditional barn conversions to contemporary new builds, our portfolio demonstrates our commitment to exceptional quality and attention to detail. Each project combines traditional craftsmanship with modern building techniques, delivering outstanding results for our clients on the Roseland Peninsula.
          </p>
          <p>
            Browse our completed projects below to see the range and quality of our work. Every project is delivered on time, within budget, and to the highest possible standards.
          </p>
        </div>
      </div>
    </section>

    <!-- Projects Grid -->
    <section class="projects-section">
      <div class="container">
        <div class="projects-grid">
          {projects.map((project) => (
            <a href={`/our-projects/${project.id}`} class="project-card-link">
              <article class="project-card">
                <div class="project-image">
                  <Image
                    src={project.image}
                    alt={project.title}
                    width={600}
                    height={400}
                    loading="lazy"
                    format="avif"
                    quality={80}
                  />
                  <div class="project-category">{project.category}</div>
                </div>
                <div class="project-content">
                  <h3>{project.title}</h3>
                  <p class="project-location">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                      <circle cx="12" cy="10" r="3"></circle>
                    </svg>
                    {project.location}
                  </p>
                  <p class="project-description">{project.description}</p>

                  <ul class="project-details">
                    {project.details.map((detail) => (
                      <li>{detail}</li>
                    ))}
                  </ul>

                  <div class="project-meta">
                    <span class="project-duration">
                      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                      </svg>
                      {project.duration}
                    </span>
                  </div>

                  <!-- View Project CTA -->
                  <div class="view-project-cta">
                    <span>View Full Project Gallery</span>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="5" y1="12" x2="19" y2="12"></line>
                      <polyline points="12 5 19 12 12 19"></polyline>
                    </svg>
                  </div>
                </div>
              </article>
            </a>
          ))}
        </div>
      </div>
    </section>

    <!-- Services CTA -->
    <section class="testimonials-cta">
      <div class="container">
        <h2>Explore Our Services</h2>
        <p>From traditional stone masonry to modern renovations, discover the full range of building services we offer across the Roseland Peninsula</p>
        <a href="/services" class="cta-button-secondary">View All Services</a>
      </div>
    </section>

    <!-- Testimonials CTA -->
    <section class="intro-section">
      <div class="container">
        <div class="intro-content">
          <h2>What Our Clients Say</h2>
          <p>Don't just take our word for it - read testimonials from our satisfied clients on the Roseland Peninsula</p>
          <a href="/#testimonials" class="cta-button-secondary">View Testimonials</a>
        </div>
      </div>
    </section>

    <!-- Call to Action -->
    <section class="cta-section">
      <div class="container">
        <h2>Ready to Start Your Project?</h2>
        <p>Get in touch today to discuss your building requirements and see how we can bring your vision to life.</p>
        <a href="/contact-us" class="cta-button">Contact Us Today</a>
      </div>
    </section>
  
</BaseLayout>

<style>
  .breadcrumb-section {
    background: #f8f9fa;
    padding: 20px 0;
    border-bottom: 1px solid #e9ecef;
  }

  .breadcrumb-section .container {
    max-width: 1170px;
    margin: 0 auto;
    padding: 0 15px;
  }

  .breadcrumb ol {
    display: flex;
    list-style: none;
    padding: 0;
    margin: 0;
    font-size: 14px;
    color: #6c757d;
  }

  .breadcrumb li {
    margin-right: 8px;
  }

  .breadcrumb a {
    color: #007bff;
    text-decoration: none;
  }

  .breadcrumb a:hover {
    text-decoration: underline;
  }

  .intro-section {
    padding: 60px 0;
    background: #ffffff;
  }

  .intro-section .container {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 15px;
    text-align: center;
  }

  .intro-content h2 {
    font-size: 32px;
    font-weight: 700;
    color: #1a2c4d;
    margin: 0 0 25px 0;
  }

  .intro-content p {
    font-size: 18px;
    line-height: 1.8;
    color: #666666;
    margin: 0 0 20px 0;
  }

  .projects-section {
    padding: 60px 0 80px;
    background: #FAF9F6; /* Eggshell section */
  }

  .projects-section .container {
    max-width: 1170px;
    margin: 0 auto;
    padding: 0 15px;
  }

  .projects-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 40px;
  }

  .project-card-link {
    text-decoration: none;
    color: inherit;
    display: block;
  }

  .project-card {
    background: #ffffff;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    height: 100%;
  }

  .project-card-link:hover .project-card {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
    transform: translateY(-4px);
  }

  .project-image {
    position: relative;
    width: 100%;
    height: 300px;
    overflow: hidden;
  }

  .project-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .project-card:hover .project-image img {
    transform: scale(1.05);
  }

  .project-category {
    position: absolute;
    top: 20px;
    right: 20px;
    background: #a83820;
    color: #ffffff;
    padding: 8px 16px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .project-content {
    padding: 30px;
  }

  .project-content h3 {
    font-size: 24px;
    font-weight: 700;
    color: #1a2c4d;
    margin: 0 0 10px 0;
  }

  .project-location {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    color: #6c757d;
    margin: 0 0 15px 0;
  }

  .project-location svg {
    color: #a83820;
  }

  .project-description {
    font-size: 16px;
    line-height: 1.6;
    color: #666666;
    margin: 0 0 20px 0;
  }

  .project-details {
    list-style: none;
    padding: 0;
    margin: 0 0 20px 0;
  }

  .project-details li {
    font-size: 14px;
    color: #666666;
    margin: 0 0 8px 0;
    padding-left: 20px;
    position: relative;
  }

  .project-details li:before {
    content: "✓";
    position: absolute;
    left: 0;
    color: #a83820;
    font-weight: 700;
  }

  .project-meta {
    display: flex;
    align-items: center;
    gap: 20px;
    padding-top: 20px;
    border-top: 1px solid #e9ecef;
  }

  .project-duration {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    color: #6c757d;
    font-weight: 600;
  }

  .project-duration svg {
    color: #1a2c4d;
  }

  .view-project-cta {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #e9ecef;
    color: #a83820;
    font-weight: 600;
    font-size: 14px;
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  .view-project-cta svg {
    transition: transform 0.3s ease;
  }

  .project-card-link:hover .view-project-cta {
    color: #e06a4e;
  }

  .project-card-link:hover .view-project-cta svg {
    transform: translateX(5px);
  }

  .testimonials-cta {
    padding: 60px 0;
    background: #ffffff;
    text-align: center;
  }

  .testimonials-cta .container {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 15px;
  }

  .testimonials-cta h2 {
    font-size: 32px;
    font-weight: 700;
    color: #1a2c4d;
    margin: 0 0 15px 0;
  }

  .testimonials-cta p {
    font-size: 18px;
    color: #666666;
    margin: 0 0 30px 0;
  }

  .cta-button-secondary {
    display: inline-block;
    padding: 14px 32px;
    background-color: transparent;
    color: #1a2c4d;
    font-size: 14px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-decoration: none;
    border-radius: 4px;
    transition: all 0.3s ease;
    border: 2px solid #1a2c4d;
  }

  .cta-button-secondary:hover {
    background-color: #1a2c4d;
    color: #ffffff;
  }

  .cta-section {
    padding: 80px 0;
    background: #1a2c4d;
    text-align: center;
  }

  .cta-section .container {
    max-width: 1170px;
    margin: 0 auto;
    padding: 0 15px;
  }

  .cta-section h2 {
    font-size: 36px;
    font-weight: 700;
    color: #ffffff;
    margin: 0 0 20px 0;
  }

  .cta-section p {
    font-size: 18px;
    color: #ffffff;
    margin: 0 0 30px 0;
    opacity: 0.9;
  }

  .cta-button {
    display: inline-block;
    padding: 16px 40px;
    background-color: #a83820;
    color: #ffffff !important;
    font-size: 16px;
    font-weight: 600;
    text-transform: uppercase;
    text-decoration: none;
    border-radius: 4px;
    transition: all 0.3s ease;
    letter-spacing: 1px;
  }

  .cta-button:hover {
    background-color: #8b2e19;
    color: #ffffff !important;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(168, 56, 32, 0.3);
  }

  /* Responsive */
  @media (max-width: 991px) {
    .projects-grid {
      grid-template-columns: 1fr;
      gap: 30px;
    }

    .breadcrumb-section h1 {
      font-size: 36px;
    }
  }

  @media (max-width: 767px) {
    .breadcrumb-section {
      padding: 30px 0;
    }

    .breadcrumb-section h1 {
      font-size: 28px;
    }

    .intro-section {
      padding: 40px 0;
    }

    .intro-content h2 {
      font-size: 26px;
    }

    .projects-section {
      padding: 40px 0 60px;
    }

    .project-image {
      height: 250px;
    }

    .project-content {
      padding: 20px;
    }

    .testimonials-cta {
      padding: 40px 0;
    }

    .testimonials-cta h2 {
      font-size: 26px;
    }

    .cta-section {
      padding: 50px 0;
    }

    .cta-section h2 {
      font-size: 28px;
    }
  }
</style>
