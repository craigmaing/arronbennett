---
// Contact form component with client-side validation and accessibility
---

<div class="contact-form-wrapper bg-white rounded-lg shadow-lg p-8">
  <form 
    id="contact-form" 
    name="contact"
    method="POST"
    data-netlify="true"
    data-netlify-honeypot="bot-field"
    class="space-y-6"
    novalidate
  >
    <!-- Netlify form detection -->
    <input type="hidden" name="form-name" value="contact" />
    
    <!-- Honeypot field for spam prevention -->
    <p class="hidden" aria-hidden="true">
      <label>
        Do not fill this out: 
        <input name="bot-field" />
      </label>
    </p>

    <!-- Name field -->
    <div class="form-group">
      <label for="name" class="block text-sm font-semibold text-gray-900 mb-2">
        Your Name <span class="text-red-600" aria-label="required">*</span>
      </label>
      <input
        type="text"
        id="name"
        name="name"
        required
        aria-required="true"
        aria-describedby="name-error"
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
        placeholder="John Smith"
      />
      <p id="name-error" class="error-message text-red-600 text-sm mt-1 hidden" role="alert">
        Please enter your name
      </p>
    </div>

    <!-- Phone field -->
    <div class="form-group">
      <label for="phone" class="block text-sm font-semibold text-gray-900 mb-2">
        Telephone Number <span class="text-red-600" aria-label="required">*</span>
      </label>
      <input
        type="tel"
        id="phone"
        name="phone"
        required
        aria-required="true"
        aria-describedby="phone-error"
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
        placeholder="07773 463383"
      />
      <p id="phone-error" class="error-message text-red-600 text-sm mt-1 hidden" role="alert">
        Please enter a valid phone number
      </p>
    </div>

    <!-- Email field -->
    <div class="form-group">
      <label for="email" class="block text-sm font-semibold text-gray-900 mb-2">
        Email Address <span class="text-red-600" aria-label="required">*</span>
      </label>
      <input
        type="email"
        id="email"
        name="email"
        required
        aria-required="true"
        aria-describedby="email-error"
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
        placeholder="john@example.com"
      />
      <p id="email-error" class="error-message text-red-600 text-sm mt-1 hidden" role="alert">
        Please enter a valid email address
      </p>
    </div>

    <!-- Project description field -->
    <div class="form-group">
      <label for="project" class="block text-sm font-semibold text-gray-900 mb-2">
        Tell us about your project <span class="text-red-600" aria-label="required">*</span>
      </label>
      <textarea
        id="project"
        name="project"
        required
        aria-required="true"
        aria-describedby="project-error"
        rows="6"
        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 resize-y"
        placeholder="Please describe your building project..."
      ></textarea>
      <p id="project-error" class="error-message text-red-600 text-sm mt-1 hidden" role="alert">
        Please tell us about your project
      </p>
    </div>

    <!-- Privacy policy checkbox -->
    <div class="form-group">
      <label class="flex items-start gap-3 cursor-pointer">
        <input
          type="checkbox"
          id="privacy-consent"
          name="privacy-consent"
          required
          aria-required="true"
          aria-describedby="privacy-error"
          class="mt-1 w-5 h-5 rounded border-gray-300 focus:ring-2 focus:ring-blue-500"
        />
        <span class="text-sm text-gray-700">
          I agree to the <a href="/privacy-policy" class="text-blue-600 hover:underline" target="_blank">Privacy Policy</a> and understand that my information will be used to respond to my inquiry. <span class="text-red-600" aria-label="required">*</span>
        </span>
      </label>
      <p id="privacy-error" class="error-message text-red-600 text-sm mt-1 hidden" role="alert">
        You must agree to the privacy policy to submit the form
      </p>
    </div>

    <!-- Submit button -->
    <button
      type="submit"
      class="submit-button w-full text-white font-semibold py-4 px-8 rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2 transition-all duration-200"
      style="background-color: #1A2D4D;"
      onmouseover="this.style.backgroundColor='#152540'"
      onmouseout="this.style.backgroundColor='#1A2D4D'"
    >
      Send Message
    </button>

    <!-- Success message -->
    <div id="success-message" class="hidden bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg" role="alert">
      <strong>Thank you!</strong> Your message has been sent successfully.
    </div>
  </form>
</div>

<style>
  .form-group input:focus,
  .form-group textarea:focus {
    outline: none;
  }

  @media (max-width: 640px) {
    .contact-form-wrapper {
      padding: 1.5rem;
    }
    
    .form-group input,
    .form-group textarea {
      font-size: 16px;
    }
  }
</style>
